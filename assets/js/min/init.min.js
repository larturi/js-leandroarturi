jQuery(document).ready(function(e){e("#lang").click(function(a){let t="es";switch(a.target.innerText){case"ENGLISH":t="en",a.target.innerText="ESPAÑOL";break;case"ESPAÑOL":t="es",a.target.innerText="ENGLISH"}var n=e("#nav li.current").children().attr("href");e("#nav-wrap").children().eq(1).click(),e(this).attr("href",n),s(t)});var a=0,t=document.createElement("img");t.src="./assets/images/home-background/home-background-1.jpg",t.onload=function(){e("header").css("background","url('./assets/images/home-background/home-background-1.jpg') no-repeat top center"),function e(){a<1&&(a+=.075,setTimeout(function(){e()},50));document.getElementById("contenido").style.opacity=a}(),e(".loading").css("display","none")};let n="";const o=document.getElementsByTagName("meta");for(let e=0;e<o.length;e++)"version"===o[e].getAttribute("name")&&(n=o[e].getAttribute("content"));function s(a){c()!==a&&localStorage.setItem("lang",a),e.ajax({url:"helper.php?v="+n+"&lang="+a,success:function(e){}}),e.ajax({url:"menu.php?v="+n+"&lang="+a,success:function(t){const n=JSON.parse(t);let o=0;switch(a){case"es":o=0;break;case"en":o=1}e("#link-home").html(n.inicio[o]).hide().fadeIn(100),e("#link-acerca").html(n.acerca[o]).hide().fadeIn(100),e("#link-education").html(n.educacion[o]).hide().fadeIn(100),e("#link-work").html(n.trabajo[o]).hide().fadeIn(100),e("#link-skills").html(n.skills[o]).hide().fadeIn(100),e("#link-portfolio").html(n.portfolio[o]).hide().fadeIn(100),e("#lang").html(n.idioma[o]).hide().fadeIn(100)}}),e.ajax({url:"sections/header.php?v="+n+"&lang="+a,success:function(a){e("#content-header").html(a).hide().fadeIn(1e3),setTimeout(function(){e(".fa.fa-chevron-circle-down").removeClass("hidden").hide().fadeIn(50)},50)}}),e.ajax({url:"sections/about.php?v="+n+"&lang="+a,success:function(a){e("#about").html(a)}}),e.ajax({url:"sections/education.php?v="+n+"&lang="+a,success:function(a){e("#education").html(a)}}),e.ajax({url:"sections/work.php?v="+n+"&lang="+a,success:function(a){e("#work").html(a)}}),e.ajax({url:"sections/docencia.php?v="+n+"&lang="+a,success:function(a){e("#docencia").html(a)}}),e.ajax({url:"sections/skills.php?v="+n+"&lang="+a,success:function(a){var t=e("#nav li.current").text();e("#skills").html(a),"Skills"===t&&e(".bar-expand").removeClass("progress").addClass("progress")}}),e.ajax({url:"sections/portfolio.php?v="+n+"&lang="+a,success:function(a){e("#portfolio").html(a)}})}function c(){return localStorage.getItem("lang")?localStorage.getItem("lang"):(localStorage.setItem("lang","es"),localStorage.getItem("lang"))}e(".flexslider").flexslider({namespace:"flex-",controlsContainer:".flex-container",animation:"slide",controlNav:!0,directionNav:!1,smoothHeight:!0,slideshowSpeed:7e3,animationSpeed:400,randomize:!1}),s(c()),e(".smoothscroll").on("click",function(a){a.preventDefault();var t=this.hash;$target=e(t),e("html, body").stop().animate({scrollTop:$target.offset().top},600,"swing",function(){window.location.hash=t})});var r=e("section"),i=e("#nav-wrap a");r.waypoint({handler:function(a,t){var n;n=e(this),"up"===t&&(n=n.prev());var o=e('#nav-wrap a[href="#'+n.attr("id")+'"]');i.parent().removeClass("current"),o.parent().addClass("current");var s=n.attr("id");switch(s){case"home":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#24004a">');break;case"about":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#292929">');break;case"education":case"work":case"docencia":case"skills":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#24004a">');break;case"portfolio":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#292929">')}"skills"===s&&e(".bar-expand").removeClass("progress").addClass("progress")},offset:"35%"}),e("header").css({height:e(window).height()}),e(window).on("resize",function(){e("header").css({height:e(window).height()}),e("body").css({width:e(window).width()})}),e(window).on("scroll",function(){var a=e("header").height(),t=e(window).scrollTop(),n=e("#nav-wrap");t>.2*a&&t<a&&e(window).outerWidth()>768?n.fadeOut("fast"):t<.2*a?n.removeClass("opaque").fadeIn("fast"):n.addClass("opaque").fadeIn("fast")})});