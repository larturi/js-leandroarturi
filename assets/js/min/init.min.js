jQuery(document).ready(function(e){e("#lang").click(function(e){e.preventDefault();let a="es";switch(e.target.innerText){case"ENGLISH":a="en",e.target.innerText="ESPAÑOL";break;case"ESPAÑOL":a="es",e.target.innerText="ENGLISH"}s(a)});var a=0,t=document.createElement("img");t.src="./assets/images/home-background/home-background-1.jpg",t.onload=function(){e("header").css("background","url('./assets/images/home-background/home-background-1.jpg') no-repeat top center"),function e(){a<1&&(a+=.075,setTimeout(function(){e()},50));document.getElementById("contenido").style.opacity=a}(),e(".loading").css("display","none")};let o="";const n=document.getElementsByTagName("meta");for(let e=0;e<n.length;e++)"version"===n[e].getAttribute("name")&&(o=n[e].getAttribute("content"));function s(a){c()!==a&&localStorage.setItem("lang",a),e.ajax({url:"helper.php?v="+o+"&lang="+a,success:function(e){}}),e.ajax({url:"menu.php?v="+o+"&lang="+a,success:function(t){const o=JSON.parse(t);let n=0;switch(a){case"es":n=0;break;case"en":n=1}e("#link-home").html(o.inicio[n]).hide().fadeIn(1e3),e("#link-acerca").html(o.acerca[n]).hide().fadeIn(1e3),e("#link-education").html(o.educacion[n]).hide().fadeIn(1e3),e("#link-work").html(o.trabajo[n]).hide().fadeIn(1e3),e("#link-skills").html(o.skills[n]).hide().fadeIn(1e3),e("#link-portfolio").html(o.portfolio[n]).hide().fadeIn(1e3),e("#lang").html(o.idioma[n]).hide().fadeIn(1e3)}}),e.ajax({url:"sections/header.php?v="+o+"&lang="+a,success:function(a){e("#content-header").html(a).hide().fadeIn(1e3),setTimeout(function(){e(".fa.fa-chevron-circle-down").removeClass("hidden").hide().fadeIn(50)},50)}}),e.ajax({url:"sections/about.php?v="+o+"&lang="+a,success:function(a){e("#about").html(a)}}),e.ajax({url:"sections/education.php?v="+o+"&lang="+a,success:function(a){e("#education").html(a)}}),e.ajax({url:"sections/work.php?v="+o+"&lang="+a,success:function(a){e("#work").html(a)}}),e.ajax({url:"sections/docencia.php?v="+o+"&lang="+a,success:function(a){e("#docencia").html(a)}}),e.ajax({url:"sections/skills.php?v="+o+"&lang="+a,success:function(a){var t=e("#nav li.current").text();e("#skills").html(a),"Skills"===t&&e(".bar-expand").removeClass("progress").addClass("progress")}}),e.ajax({url:"sections/portfolio.php?v="+o+"&lang="+a,success:function(a){e("#portfolio").html(a)}})}function c(){return localStorage.getItem("lang")?localStorage.getItem("lang"):(localStorage.setItem("lang","es"),localStorage.getItem("lang"))}e(".flexslider").flexslider({namespace:"flex-",controlsContainer:".flex-container",animation:"slide",controlNav:!0,directionNav:!1,smoothHeight:!0,slideshowSpeed:7e3,animationSpeed:400,randomize:!1}),s(c()),e(".smoothscroll").on("click",function(a){a.preventDefault();var t=this.hash;$target=e(t),e("html, body").stop().animate({scrollTop:$target.offset().top},600,"swing",function(){window.location.hash=t})});var r=e("section"),i=e("#nav-wrap a");r.waypoint({handler:function(a,t){var o;o=e(this),"up"===t&&(o=o.prev());var n=e('#nav-wrap a[href="#'+o.attr("id")+'"]');i.parent().removeClass("current"),n.parent().addClass("current");var s=o.attr("id");switch(s){case"home":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#24004a">');break;case"about":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#292929">');break;case"education":case"work":case"docencia":case"skills":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#24004a">');break;case"portfolio":e("meta[name=theme-color]").remove(),e("head").append('<meta name="theme-color" content="#292929">')}"skills"===s&&e(".bar-expand").removeClass("progress").addClass("progress")},offset:"35%"}),e("header").css({height:e(window).height()}),e(window).on("resize",function(){e("header").css({height:e(window).height()}),e("body").css({width:e(window).width()})}),e(window).on("scroll",function(){var a=e("header").height(),t=e(window).scrollTop(),o=e("#nav-wrap");t>.2*a&&t<a&&e(window).outerWidth()>768?o.fadeOut("fast"):t<.2*a?o.removeClass("opaque").fadeIn("fast"):o.addClass("opaque").fadeIn("fast")}),e("#buton-mas-proyectos").click(function(){"Mas Proyectos"===e("#buton-mas-proyectos").text()?(e(".mas-proyectos").css("display","block"),e("#buton-mas-proyectos").text("Menos Proyectos")):(e(".mas-proyectos").css("display","none"),e("#buton-mas-proyectos").text("Mas Proyectos"))})});